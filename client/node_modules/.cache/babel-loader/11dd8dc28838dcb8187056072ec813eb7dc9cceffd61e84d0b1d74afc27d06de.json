{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Announcement_Data=_ref=>{let{baseURL}=_ref;const[username,setUsername]=useState('');const[announcements,setAnnouncements]=useState([[]]);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const res=await fetch(\"\".concat(baseURL,\"/info\"),{method:'GET'});if(!res.ok){throw new Error(\"HTTP error! status: \".concat(res.status));}const data=await res.json();console.log(data);if(data.info&&data.info.length>0){const announcementsArray=data.info.map(item=>[item.date,item.title,item.body]);console.log(announcementsArray);setAnnouncements(announcementsArray);}console.log('announcements above and below');console.log(announcements);}catch(error){console.error('Error fetching data:',error);setError(error.toString());}};fetchData();},[baseURL]);// Dependency array to ensure useEffect runs only once or when baseURL changes\nreturn/*#__PURE__*/_jsx(\"div\",{children:announcements.map((announcement,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:announcement[0]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:announcement[1]})}),/*#__PURE__*/_jsx(\"div\",{children:announcement[2]}),/*#__PURE__*/_jsx(\"br\",{})]},index))});};export default Announcement_Data;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Announcement_Data","_ref","baseURL","username","setUsername","announcements","setAnnouncements","error","setError","fetchData","res","fetch","concat","method","ok","Error","status","data","json","console","log","info","length","announcementsArray","map","item","date","title","body","toString","children","announcement","index"],"sources":["/Users/noahrizika/Documents/PersonalCodes/middlebury-climbing/client/src/components/Announcement_Data.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst Announcement_Data = ({ baseURL }) => {\n  const [username, setUsername] = useState('');\n  const [announcements, setAnnouncements] = useState([[]]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await fetch(`${baseURL}/info`, {\n          method: 'GET',\n        });\n        if (!res.ok) {\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n        console.log(data);\n\n        if (data.info && data.info.length > 0) {\n            const announcementsArray = data.info.map(item => [item.date, item.title, item.body]);\n            console.log(announcementsArray);\n            setAnnouncements(announcementsArray);\n        }\n        console.log('announcements above and below');\n        console.log(announcements);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError(error.toString());\n      }};\n\n    fetchData();\n  }, [baseURL]); // Dependency array to ensure useEffect runs only once or when baseURL changes\n\n  return (\n    <div>\n        {announcements.map((announcement, index) => (\n        <div key={index}>\n            <div>{announcement[0]}</div>\n            <div><h2>{announcement[1]}</h2></div>\n            <div>{announcement[2]}</div>\n            <br />\n        </div>\n        ))}\n  </div>\n  );\n};\n\nexport default Announcement_Data;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACpC,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,aAAa,CAAEC,gBAAgB,CAAC,CAAGX,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CACxD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIV,OAAO,UAAS,CACzCW,MAAM,CAAE,KACV,CAAC,CAAC,CACF,GAAI,CAACH,GAAG,CAACI,EAAE,CAAE,CACX,KAAM,IAAI,CAAAC,KAAK,wBAAAH,MAAA,CAAwBF,GAAG,CAACM,MAAM,CAAE,CAAC,CACtD,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,GAAG,CAACQ,IAAI,CAAC,CAAC,CAC7BC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CAEjB,GAAIA,IAAI,CAACI,IAAI,EAAIJ,IAAI,CAACI,IAAI,CAACC,MAAM,CAAG,CAAC,CAAE,CACnC,KAAM,CAAAC,kBAAkB,CAAGN,IAAI,CAACI,IAAI,CAACG,GAAG,CAACC,IAAI,EAAI,CAACA,IAAI,CAACC,IAAI,CAAED,IAAI,CAACE,KAAK,CAAEF,IAAI,CAACG,IAAI,CAAC,CAAC,CACpFT,OAAO,CAACC,GAAG,CAACG,kBAAkB,CAAC,CAC/BjB,gBAAgB,CAACiB,kBAAkB,CAAC,CACxC,CACAJ,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC5CD,OAAO,CAACC,GAAG,CAACf,aAAa,CAAC,CAC5B,CAAE,MAAOE,KAAK,CAAE,CACdY,OAAO,CAACZ,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAACD,KAAK,CAACsB,QAAQ,CAAC,CAAC,CAAC,CAC5B,CAAC,CAAC,CAEJpB,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACP,OAAO,CAAC,CAAC,CAAE;AAEf,mBACEL,IAAA,QAAAiC,QAAA,CACKzB,aAAa,CAACmB,GAAG,CAAC,CAACO,YAAY,CAAEC,KAAK,gBACvCjC,KAAA,QAAA+B,QAAA,eACIjC,IAAA,QAAAiC,QAAA,CAAMC,YAAY,CAAC,CAAC,CAAC,CAAM,CAAC,cAC5BlC,IAAA,QAAAiC,QAAA,cAAKjC,IAAA,OAAAiC,QAAA,CAAKC,YAAY,CAAC,CAAC,CAAC,CAAK,CAAC,CAAK,CAAC,cACrClC,IAAA,QAAAiC,QAAA,CAAMC,YAAY,CAAC,CAAC,CAAC,CAAM,CAAC,cAC5BlC,IAAA,QAAK,CAAC,GAJAmC,KAKL,CACJ,CAAC,CACH,CAAC,CAER,CAAC,CAED,cAAe,CAAAhC,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}